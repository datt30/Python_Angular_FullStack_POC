{"version":3,"sources":["./src/app/components/client/client.component.html","./src/app/components/client/dialog-box/dialog-box.component.html","./src/app/components/client/client-routing.module.ts","./src/app/components/client/client.component.css","./src/app/components/client/client.component.ts","./src/app/components/client/client.module.ts","./src/app/components/client/dialog-box/dialog-box.component.css","./src/app/components/client/dialog-box/dialog-box.component.ts","./src/app/models/client.ts","./src/app/services/client/client.service.ts"],"names":[],"mappings":"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","file":"components-client-client-module-es2015.js","sourcesContent":["export default \"<app-header [header_title]=\\\"header_title\\\"></app-header>\\n\\n\\n\\n<table mat-table [dataSource]=\\\"dataSource\\\" class=\\\"mat-elevation-z8\\\">\\n  <!--- Note that these columns can be defined in any order.\\n        The actual rendered columns are set as a property on the row definition -->\\n\\n  <!-- Column -->\\n  <ng-container matColumnDef=\\\"identityNumber\\\">\\n    <th mat-header-cell *matHeaderCellDef>Identity Number</th>\\n    <td mat-cell *matCellDef=\\\"let element\\\"> {{element.identityNumber}} </td>\\n  </ng-container>\\n\\n  <!-- Column -->\\n  <ng-container matColumnDef=\\\"clientName\\\">\\n    <th mat-header-cell *matHeaderCellDef>Client Name</th>\\n    <td mat-cell *matCellDef=\\\"let element\\\"> {{element.clientName}} </td>\\n  </ng-container>\\n\\n  <!-- Column -->\\n  <ng-container matColumnDef=\\\"clientSurname\\\">\\n    <th mat-header-cell *matHeaderCellDef>Client Surname</th>\\n    <td mat-cell *matCellDef=\\\"let element\\\"> {{element.clientSurname}} </td>\\n  </ng-container>\\n\\n  <!-- Column -->\\n  <ng-container matColumnDef=\\\"age\\\">\\n    <th mat-header-cell *matHeaderCellDef>Age</th>\\n    <td mat-cell *matCellDef=\\\"let element\\\"> {{element.age}} </td>\\n  </ng-container>\\n\\n\\n  <!-- Action Column -->\\n  <ng-container matColumnDef=\\\"action\\\">\\n    <th mat-header-cell *matHeaderCellDef>EDIT / DELETE</th>\\n    <td class=\\\"buttons-acction-container\\\" mat-cell *matCellDef=\\\"let element\\\" class=\\\"action-link\\\"> \\n      <button mat-icon-button (click)=\\\"openDialog('Edit',element)\\\">\\n        <mat-icon>edit</mat-icon>\\n      </button>\\n      <button mat-icon-button (click)=\\\"openDialog('Delete',element)\\\">\\n        <mat-icon>delete</mat-icon>\\n      </button> \\n    </td>\\n  </ng-container>\\n  \\n  <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\n  <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\n</table>\\n\\n<button id=\\\"add-btn\\\" mat-mini-fab color=\\\"warn\\\" (click)=\\\"openDialog('Add',{})\\\">\\n  <mat-icon>add</mat-icon>\\n</button>\"","export default \"<!-- dialog-box.component.html -->\\r\\n<h1 mat-dialog-title><strong>{{action}}</strong></h1>\\r\\n<form [formGroup]=\\\"form\\\" class=\\\"fields-content\\\" mat-dialog-content *ngIf=\\\"action != 'Delete'; else deleteTemplate\\\">\\r\\n  \\r\\n  <mat-form-field>\\r\\n    <input placeholder=\\\"Identity Number\\\" matInput formControlName=\\\"identityNumber\\\" class=\\\"form-control\\\">\\r\\n    <mat-error class=\\\"error-message\\\" *ngIf=\\\"form.get('identityNumber').errors\\\">required field *</mat-error>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field>\\r\\n    <input placeholder=\\\"Age\\\" matInput formControlName=\\\"age\\\" class=\\\"form-control\\\">\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field>\\r\\n    <input placeholder=\\\"Client Name\\\" matInput formControlName=\\\"clientName\\\" class=\\\"form-control\\\">\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field>\\r\\n    <input placeholder=\\\"client Surname\\\" matInput formControlName=\\\"clientSurname\\\" class=\\\"form-control\\\">\\r\\n  </mat-form-field>\\r\\n\\r\\n</form>\\r\\n<ng-template #deleteTemplate>\\r\\n  Are you sure to delete this element? <b>{{local_data.clientName}}</b>\\r\\n</ng-template>\\r\\n<div class=\\\"buttons-content\\\" mat-dialog-actions>\\r\\n  <button mat-button (click)=\\\"doAction()\\\">{{action}}</button>\\r\\n  <button mat-button (click)=\\\"closeDialog()\\\" mat-flat-button>Cancel</button>\\r\\n</div>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ClientComponent } from './client.component';\n\n\nconst routes: Routes = [{path: '', component: ClientComponent}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ClientRoutingModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvY2xpZW50L2NsaWVudC5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { clientColumns, Client } from \"src/app/models/client\";\r\nimport { MatDialog, MatTable } from '@angular/material';\r\nimport { DialogBoxComponent } from './dialog-box/dialog-box.component';\r\nimport { ClientService } from 'src/app/services/client/client.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-client',\r\n  templateUrl: './client.component.html',\r\n  styleUrls: ['./client.component.css'],\r\n})\r\n\r\nexport class ClientComponent implements OnInit{\r\n  header_title = \"Clients in our comerce\";\r\n  \r\n  dataSource = [];\r\n  displayedColumns = clientColumns;\r\n\r\n  @ViewChild(MatTable,{static:true}) table: MatTable<any>;\r\n  constructor(public dialog: MatDialog, private clientService: ClientService) {}\r\n\r\n  ngOnInit() {\r\n    this.clientService.getAllClients().subscribe(data => {\r\n      this.dataSource = data['clients'];\r\n    });;\r\n  }\r\n \r\n  openDialog(action,obj) {\r\n    obj.action = action;\r\n    const dialogRef = this.dialog.open(DialogBoxComponent, {\r\n      width: '350px',\r\n      data:obj\r\n    });\r\n \r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if(result.event == 'Add'){\r\n        this.addRowData(result.data);\r\n      }else if(result.event == 'Edit'){\r\n        this.updateRowData(result.data);\r\n      }else if(result.event == 'Delete'){\r\n        this.deleteRowData(result.data);\r\n      }\r\n    });\r\n  }\r\n \r\n  addRowData(row_obj){\r\n    var client = {\r\n      identityNumber: row_obj.identityNumber,\r\n      age: row_obj.age,\r\n      clientName: row_obj.clientName,\r\n      clientSurname: row_obj.clientSurname,\r\n    } as Client\r\n    this.clientService.createClient(client);\r\n    this.dataSource.push(client);\r\n    //for update table rows when changes\r\n    this.table.renderRows();\r\n  }\r\n\r\n  updateRowData(row_obj){\r\n    var client = {\r\n      identityNumber: row_obj.identityNumber,\r\n      age: row_obj.age,\r\n      clientName: row_obj.clientName,\r\n      clientSurname: row_obj.clientSurname,\r\n    } as Client\r\n    this.dataSource = this.dataSource.filter(value =>{\r\n      if(value.identityNumber == row_obj.identityNumber){\r\n        value = client;\r\n      }\r\n      return true;\r\n    });\r\n    this.clientService.updateClient(client);\r\n    //for update table rows when changes\r\n    this.table.renderRows();\r\n  }\r\n\r\n  deleteRowData(row_obj){\r\n    this.dataSource = this.dataSource.filter(value =>{\r\n      return value.identityNumber != row_obj.identityNumber;\r\n    });\r\n    this.clientService.deleteClient(row_obj.identityNumber);\r\n    //for update table rows when changes\r\n    this.table.renderRows();\r\n  }\r\n\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ClientRoutingModule } from './client-routing.module';\nimport { ClientComponent } from './client.component';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { DialogBoxComponent } from './dialog-box/dialog-box.component';\n\n\n@NgModule({\n  declarations: [\n    ClientComponent,\n    DialogBoxComponent\n  ],\n  imports: [\n    CommonModule,\n    ClientRoutingModule,\n    SharedModule\n  ],\n  entryComponents: [\n    DialogBoxComponent\n  ]\n})\nexport class ClientModule { }\n","export default \".fields-content {\\r\\n    display: -webkit-box;\\r\\n    display: flex;\\r\\n    -webkit-box-orient: vertical;\\r\\n    -webkit-box-direction: normal;\\r\\n            flex-direction: column;\\r\\n}\\r\\n  \\r\\n.fields-content > * {\\r\\n    width: 100%;\\r\\n}\\r\\n  \\r\\n.buttons-content {\\r\\n    float: right;\\r\\n}\\r\\n  \\r\\n.mat-form-field{\\r\\n    margin-bottom: 15px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9jbGllbnQvZGlhbG9nLWJveC9kaWFsb2ctYm94LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxvQkFBYTtJQUFiLGFBQWE7SUFDYiw0QkFBc0I7SUFBdEIsNkJBQXNCO1lBQXRCLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLFdBQVc7QUFDZjs7QUFFQTtJQUNJLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2NsaWVudC9kaWFsb2ctYm94L2RpYWxvZy1ib3guY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5maWVsZHMtY29udGVudCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxufVxyXG4gIFxyXG4uZmllbGRzLWNvbnRlbnQgPiAqIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uYnV0dG9ucy1jb250ZW50IHtcclxuICAgIGZsb2F0OiByaWdodDtcclxufVxyXG5cclxuLm1hdC1mb3JtLWZpZWxke1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxufSJdfQ== */\"","import { Component, Inject, Optional } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { Client } from 'src/app/models/client';\n\n\n@Component({\n  selector: 'app-dialog-box',\n  templateUrl: './dialog-box.component.html',\n  styleUrls: ['./dialog-box.component.css']\n})\n\nexport class DialogBoxComponent {\n  action:string;\n  local_data:any;\n  form;\n  \n  constructor(\n    private formBuilder: FormBuilder,\n    public dialogRef: MatDialogRef<DialogBoxComponent>,\n    //@Optional() is used to prevent error if no data is passed\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: Client) {\n    this.local_data = {...data};\n    this.action = this.local_data.action;\n\n    this.form = formBuilder.group({\n      identityNumber: [this.local_data.identityNumber, Validators.required],\n      age:            [this.local_data.age],\n      clientName:     [this.local_data.clientName],\n      clientSurname:  [this.local_data.clientSurname]\n    });\n  }\n\n  doAction(){\n    // stop here if form is invalid\n    if (this.form.invalid) {\n      return;\n    }\n    this.dialogRef.close({event:this.action,data:this.form.value});\n  }\n\n  closeDialog(){\n    this.dialogRef.close({event:'Cancel'});\n  }\n\n}","export interface Client {\r\n    identityNumber: number;\r\n    age: number;\r\n    clientName: string;\r\n    clientSurname: string;\r\n}\r\n\r\nexport const clientColumns: string[] = [\r\n    'identityNumber',\r\n    'age',\r\n    'clientName',\r\n    'clientSurname',\r\n    'action'\r\n];\r\n\r\nexport const CLIENTS_DATA: Client[] = [\r\n    {\r\n        identityNumber: 1234565,\r\n        age: 12,\r\n        clientName: \"David\",\r\n        clientSurname: \"Tamayo Tirado\"\r\n    },\r\n    {\r\n        identityNumber: 12333333,\r\n        age: 12,\r\n        clientName: \"Alejandro\",\r\n        clientSurname: \"Tamayo Tirado\"\r\n    }\r\n];","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Client } from \"src/app/models/client\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class ClientService {\r\n  \r\n  constructor(private http: HttpClient) {}\r\n\r\n  url = 'http://127.0.0.1:5000/poc/v1';\r\n  \r\n  public getAllClients() {\r\n    return this.http.get(`${this.url}/clients/`);\r\n  }\r\n\r\n  public createClient(client: Client) {\r\n    let httpHeaders = new HttpHeaders().set('Content-Type', 'application/json')\r\n    let options = {\r\n      headers: httpHeaders\r\n    }; \r\n    this.http.post(`${this.url}/client/`,{\r\n      \"identityNumber\":client.identityNumber,\r\n      \"age\": client.age,\r\n      \"clientName\": client.clientName,\r\n      \"clientSurname\": client.clientSurname\r\n    },options).subscribe(\r\n      (val) => {\r\n          console.log(\"POST call successful value returned in body\", val);\r\n      },\r\n      response => {\r\n          console.log(\"POST call in error\", response);\r\n      },\r\n      () => {\r\n          console.log(\"The POST observable is now completed.\");\r\n      });\r\n  }\r\n\r\n  public deleteClient(id){\r\n    this.http.delete(`${this.url}/client/${id}`)\r\n    .subscribe(\r\n        (val) => {\r\n            console.log(\"DELETE call successful value returned in body\", val);\r\n        },\r\n        response => {\r\n            console.log(\"DELETE call in error\", response);\r\n        },\r\n        () => {\r\n            console.log(\"The DELETE observable is now completed.\");\r\n        });\r\n  }\r\n\r\n  public updateClient(client: Client) {\r\n    let httpHeaders = new HttpHeaders().set('Content-Type', 'application/json')\r\n    let options = {\r\n      headers: httpHeaders\r\n    }; \r\n    this.http.put(`${this.url}/client/${client.identityNumber}`,{\r\n      \"identityNumber\":client.identityNumber,\r\n      \"age\": client.age,\r\n      \"clientName\": client.clientName,\r\n      \"clientSurname\": client.clientSurname\r\n    },options).subscribe(\r\n      (val) => {\r\n          console.log(\"POST call successful value returned in body\", val);\r\n      },\r\n      response => {\r\n          console.log(\"POST call in error\", response);\r\n      },\r\n      () => {\r\n          console.log(\"The POST observable is now completed.\");\r\n      });\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}"],"sourceRoot":"webpack:///"}